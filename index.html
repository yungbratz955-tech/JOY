 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>For Joy ‚ù§Ô∏è</title>
    <style>
        :root { --primary: #ff4d6d; --bg: linear-gradient(180deg, #ffafbd 0%, #ffc3a0 100%); }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            margin: 0; height: 100vh; display: flex; align-items: center; justify-content: center; 
            background: var(--bg); font-family: 'Segoe UI', Roboto, sans-serif; overflow: hidden; transition: 0.5s;
        }

        /* Thunderstorm Flash Effect */
        .flash { animation: lightning 0.2s 3; }
        @keyframes lightning { 0% { background: #000; } 50% { background: #444; } 100% { background: #000; } }

        .card { 
            background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); padding: 40px 20px; 
            border-radius: 30px; box-shadow: 0 20px 50px rgba(0,0,0,0.15); text-align: center; 
            width: 90%; max-width: 400px; position: relative; z-index: 10;
        }

        h1 { color: #800e13; font-size: 1.4rem; font-weight: 800; margin-bottom: 25px; line-height: 1.3; }

        .btn-column { display: flex; flex-direction: column; gap: 15px; position: relative; min-height: 250px; justify-content: center; }

        button { 
            padding: 20px; font-size: 1.1rem; border: none; border-radius: 20px; 
            cursor: pointer; font-weight: 700; transition: 0.3s; 
            background: white; color: var(--primary); box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        #yesBtn { position: absolute; background: var(--primary); color: white; width: 120px; z-index: 20; left: 50%; transform: translateX(-50%); top: 10px; }
        #noBtn { position: absolute; background: #222; color: white; width: 100px; left: 50%; transform: translateX(-50%); bottom: 20px; }

        #secretMessage { 
            display: none; text-align: left; line-height: 1.6; color: #333; font-size: 1.15rem; 
            padding: 20px; background: white; border-radius: 20px; border-top: 6px solid var(--primary);
            animation: popUp 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popUp { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        .glow-up { background: var(--primary) !important; color: white !important; font-size: 1.6rem !important; animation: pulse 1s infinite; border: none !important; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        
        .huge-emoji { position: fixed; z-index: 1000; pointer-events: none; }
    </style>
</head>
<body>
    <div id="emojiLayer"></div>
    
    <div class="card" id="gameCard">
        <h1 id="questionText">Level 1: When we first started, what was my biggest struggle?</h1>
        <div id="options" class="btn-column">
            <button onclick="wrongAnswer()">I couldn't find my way to your house.</button>
            <button onclick="nextLevel(2, event)">I was unsure if I really liked you because I was overthinking.</button>
            <button onclick="wrongAnswer()">I told myself I was too busy with "life" to be in love.</button>
        </div>
        <div id="secretMessage"></div>
    </div>

    <script>
        // High Intensity Emoji Spawner
        function spawnEmoji(emoji, isHuge = false, x = null, y = null) {
            const el = document.createElement('div');
            el.innerHTML = emoji;
            el.className = 'huge-emoji';
            el.style.left = x || Math.random() * 90 + 'vw';
            el.style.top = y || '-100px';
            el.style.fontSize = isHuge ? '80px' : '40px';
            document.body.appendChild(el);

            let destY = window.innerHeight + 100;
            let duration = isHuge ? 1500 : 3000;

            el.animate([
                { transform: `translate(0, 0) rotate(0deg)`, opacity: 1 },
                { transform: `translate(${Math.random() * 100 - 50}px, ${destY}px) rotate(360deg)`, opacity: 0.5 }
            ], { duration: duration, easing: 'linear' }).onfinish = () => el.remove();
        }

        // Background Atmosphere
        setInterval(() => spawnEmoji('‚ù§Ô∏è', false), 500);

        function wrongAnswer() { 
            document.body.style.background = "#ff4d6d";
            setTimeout(() => document.body.style.background = "var(--bg)", 100);
            alert("Wrong! You know me better than that! üòÇ"); 
        }

        function burstHearts(e) {
            for(let i=0; i<30; i++) {
                spawnEmoji('‚ù§Ô∏è', true, e.clientX + 'px', e.clientY + 'px');
            }
        }

        function nextLevel(level, e) {
            burstHearts(e);
            const q = document.getElementById('questionText');
            const opt = document.getElementById('options');
            
            setTimeout(() => {
                if (level === 2) {
                    q.innerHTML = "Level 2: Since you know me so well... what do I fear most?";
                    opt.innerHTML = `
                        <button onclick="nextLevel(3, event)">Ur mom.</button>
                        <button onclick="wrongAnswer()">Losing u.</button>
                        <button onclick="wrongAnswer()">Class presentation.</button>
                    `;
                } else if (level === 3) {
                    q.innerHTML = "Final Level: Will you be my Valentine, Joy?";
                    opt.innerHTML = `
                        <button id="yesBtn" onclick="escapeYes()" ontouchstart="escapeYes()">YES!</button>
                        <button id="noBtn" onclick="triggerNoTrap()">No</button>
                    `;
                }
            }, 300);
        }

        function escapeYes() {
            const btn = document.getElementById('yesBtn');
            const container = document.querySelector('.btn-column');
            btn.style.left = Math.random() * (container.offsetWidth - 100) + 'px';
            btn.style.top = Math.random() * (container.offsetHeight - 50) + 'px';
            btn.style.transform = 'none';
        }

        function triggerNoTrap() {
            document.body.classList.add('flash');
            let storm = setInterval(() => spawnEmoji('üò≠', true), 50);
            setTimeout(() => {
                document.body.classList.remove('flash');
                clearInterval(storm);
                alert("Did you really just hit no? üò≠");
                resetToTrueYes();
            }, 1500);
        }

        function resetToTrueYes() {
            document.getElementById('questionText').innerHTML = "Let's try that again Bunny...";
            document.getElementById('options').innerHTML = `<button id="finalYes" class="glow-up" onclick="revealMessage(event)">YES! ‚ù§Ô∏è</button>`;
        }

        function revealMessage(e) {
            burstHearts(e);
            document.getElementById('questionText').innerHTML = "I LOVE YOU JOY ‚ù§Ô∏è";
            document.getElementById('options').style.display = 'none';
            const msg = document.getElementById('secretMessage');
            msg.style.display = 'block';
            msg.innerHTML = `When we started this I was still unsure like do I really like her or is she for keeps I was kinda confused for real but that day u pulled up like after me calling u out of the blue made me feel lucky and am deep into this like <b>I LOVE YOU JOY LIKE FOR REAL JOKES ASIDE AM OBSESSED NOW</b>.<br><br>U said that day u were all happy but I was more over flowed with happiness. Kinda cringe to do all this but unfortunately worth every sec in my life. Am finally in love and I ain't letting go sooner.`;
        }
    </script>
</body>
</html>
